module mac_tb ();
    reg clk;
    reg rst;
    reg [511:0] A;
    reg [511:0] B;
    reg  vld_i;
    wire[21:0] mac_out;
    wire vld_o;
    
    mac dut(.clk(clk), .rst(rst), .A(A), .B(B), .vld_i(vld_i), .mac_out(mac_out), .vld_o(vld_o));
    
    always  #7 clk <= ~clk ;
    always  #5 rst <= ~rst;
    
    initial
    begin
    clk = 1'b1;
    rst = 1'b1;
        A = 512'b10010000000010101101001111110001011010101010011110000001000001111110010011001010011001011111100100000000101111110000110110000101011110000100101101010001100010010111110111010100111000001011110011001000001101000110111000101101010000001111011001000110100001110100100100010001100010010111110011111011000010110101101000101001100000111000001110111010001111100010100010001010110100111011010001000110110111110110000011111110111110100111110010101000101111111000011001000001101010101111110010011010111010011100010100100101;
        B = 512'b01110010110100110111010100011111011101010001101011000000111111101101011100110001111010100100010100000010010111011100100001110010110011101101110111011001001111010101101010110011110000101011110011000000110111110001000111011100111101110111101010011111011001100001110010001011000010110011000111100011111010010011011100000100000000111010101110101000000010100001100101101101111110001001000111010000000000111010001010001111011111001111110100101011000001111110000001101011010010001001000101110000100000000101011001111000; //12
    #20;
        A = 512'b00100000100010000111101111000100110010101001111001100010110110011001101101010000000111011010001110011110110001110111000101110001100011100100000010100011000101000101111011010111010111101110111111011100110011110000010111110111001000011111110100110010111100111110011011011001111000110011001101000110001111000110001110101011100001111000101011100101001000011000110100001111110011011100110100001000000110101001011101110001111011101010010001010010110010011101110011111110010100100101001111010100010001101001000110100010; //-5
        B = 512'b10101010001100100011001001100001001101110101111110011000010101110010011000000001101101100010100100101100101101110001001111011010011000110111011010010110011101101010111101011010111110101101101111001111101100010101100010000100101010000100011110000110001110111000001110000101001100101110001010001001010010011110010000100100001010101010100000001101000011101111000011101000011100111110111100111010101101110111010000010001110111000100110100001111010001011000000011010000111100111011011111100000010011110101101101100110; //-5
    #20;
        A = 512'b10110001000010100101100010000100011101110101011000011101110100000000111010110100111011110110000111110010100001000111110110110010010110011011000111000011010011100011110011100101010001100000011111100000001111100110011110111101110100011011010111010000011001000000011100010111001010001000111111110000110110111000110101010100101010111100111011101110001100011000001100101001111101010111010100110111110110100001101100101100001001111111011011110001001110010010001010000000101101110111100000010011011011001010110000100100; //6
        B = 512'b10010111100101100110101011101111001010011110110011010110101010110110000000111000011000110100000000011000100110001000000000101101010101011110111010001001110010000010101101111011100010000000100001000111100110010010110000011101100011000000001100100110011010000010010011010110010011001010011100110111011010100011011010111111001100011101111100101000111000011001011101110110001111010100111110010011000010011001101010110011011110000000010011101100000011001110011100010110000111111011001101110001000100011011110001011100; //-4
    #20;
    end
endmodule
